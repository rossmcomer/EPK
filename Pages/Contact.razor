@page "/contact"

<PageTitle>CONTACT | TOER</PageTitle>

<div class="pageContainer">
    <div class="headerContainer">
        <h1 class="pageHeader">CONTACT</h1>
    </div>
    <div class="pageContent">
        <div class="stylisticLine"></div>
        <div class="contactFormContainer">
            <form 
                action="https://api.form-data.com/f/VzDosq_S3JVtto"
                method="post">
                <div class="form-group">
                    <label for="recipient" class="contactText">Recipient:</label>
                    <select id="recipient" name="recipient" class="form-control">
                        <option value="info@toermusic.com">General Inquiries</option>
                        <option value="bookings@toermusic.com">Bookings</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="email" class="contactText">Your email:</label>
                    <input id="email" name="email" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="title" class="contactText">Title:</label>
                    <input id="title" name="title" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="message" class="contactText">Message:</label>
                    <textarea id="message" name="message" class="form-control" required></textarea>
                </div>
                @* spam protection start *@
                    <input type="hidden" name="_fd" value="0" class="form-data-marker" />
                    <input type="text"
                        name="xx_password"
                        style="display:none !important"
                        tabindex="-1"
                        autocomplete="off">
                @* spam protection end*@
                <div id="submitBtnWrapper">
                    <button type="submit" class="btn" id="submitBtn">Send</button>
                </div>
            </form>
        </div>
    </div>
</div>

@code {
    private ContactFormModel ContactForm { get; set; } = new ContactFormModel();

    private async Task HandleSubmit()
    {
        if (string.IsNullOrEmpty(ContactForm.RecipientEmail))
        {
            Console.WriteLine("Please select a recipient.");
            return;
        }

        await Task.Delay(100); 

        // Simulate sending the email or handling the form submission.
        Console.WriteLine($"Email sent to: {ContactForm.RecipientEmail}");
        Console.WriteLine($"Name: {ContactForm.Name}");
        Console.WriteLine($"Title: {ContactForm.Title}");
        Console.WriteLine($"Message: {ContactForm.Message}");

        // Reset form fields (optional)
        ContactForm = new ContactFormModel();
    }
}