@page "/contact"

<PageTitle>CONTACT | TOER</PageTitle>

<div class="pageContainer">
    <div class="headerContainer">
        <h1 class="pageHeader">CONTACT</h1>
    </div>
    <div class="pageContent">
        <div class="stylisticLine"></div>
        <div class="contactFormContainer">
            <form @onsubmit="HandleSubmit">
                <div class="form-group">
                    <label for="recipient" class="contactText">Recipient:</label>
                    <select id="recipient" class="form-control" @bind="ContactForm.RecipientEmail">
                        <option value="">Select a recipient</option>
                        <option value="bookings@toermusic.com">Bookings</option>
                        <option value="info@toermusic.com">General Inquiries</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="title" class="contactText">Title:</label>
                    <input id="title" class="form-control" @bind="ContactForm.Title" />
                </div>
                <div class="form-group">
                    <label for="message" class="contactText">Message:</label>
                    <textarea id="message" class="form-control" @bind="ContactForm.Message"></textarea>
                </div>
                <div id="submitBtnWrapper">
                    <button type="submit" class="btn" id="submitBtn">Send</button>
                </div>
            </form>
        </div>
    </div>
</div>

@code {
    private ContactFormModel ContactForm { get; set; } = new ContactFormModel();

    private async Task HandleSubmit()
    {
        if (string.IsNullOrEmpty(ContactForm.RecipientEmail))
        {
            Console.WriteLine("Please select a recipient.");
            return;
        }

        await Task.Delay(100); 

        // Simulate sending the email or handling the form submission.
        Console.WriteLine($"Email sent to: {ContactForm.RecipientEmail}");
        Console.WriteLine($"Title: {ContactForm.Title}");
        Console.WriteLine($"Message: {ContactForm.Message}");

        // Reset form fields (optional)
        ContactForm = new ContactFormModel();
    }
}